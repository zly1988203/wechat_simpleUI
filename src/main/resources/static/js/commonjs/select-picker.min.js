!function(e){var t=function(t,l){var i=Math.round(-t.y/36+2);e(l).find("li").eq(i).addClass("selected").siblings().removeClass("selected")};e.selectPicker=function(l){var l=e.extend({current:"",title:"请选择",data:[""],onChange:function(){}},l),i=l.data,c=e.trim(l.current).length<=0?"object"==typeof i[0]?i[0].value:i[0]:e.trim(l.current),s=e(doT.template('<div id="select-picker-popup" class="sui-popup-container"><div class="sui-popup-mask"></div><div class="sui-popup-modal"><div class="toolbar-inner"><button class="sui-cancel" type="button">取消</button><span>{{=it.title}}</span><button class="sui-ok" type="button">确定</button></div><ul class="picker-container"><li class="picker-col-wrapper"><div class="picker-control picker-select"><ul><li></li><li></li>{{~it.data:d}}{{?typeof(d)!="object"}}<li data-value="{{=d}}">{{=d}}</li>{{??}}<li data-value="{{=d.value}}">{{=d.text}}</li>{{?}}{{~}}<li></li><li></li></ul></div></li></ul><div class="picker-center-highlight sui-border-tb"></div></div></div>')(l)),o=s.appendTo(document.body);e("#select-picker-popup").popup("plate");var n=!0,a=new IScroll(".picker-select",{vScrollbar:!1,momentum:!0,bounce:!0,probeType:3});a.on("scrollStart",function(){n=!1}),a.on("scroll",function(){t(this,".picker-select")}),a.on("scrollEnd",function(){t(this,".picker-select");var l=Math.round(-this.y/36+2);l-=2,e(".picker-select ul").animate({translate:"0, -"+36*l+"px"},"fast","linear"),n=!0});var p=e('.picker-select li[data-value="'+c+'"]');p.addClass("selected").siblings().removeClass("selected"),a.scrollToElement(p.prev().prev()[0],0),o.find(".sui-mask,.sui-cancel").on("click",function(){e("#select-picker-popup").closePopup(function(){a.destroy(),a=null,e("#select-picker-popup").remove()})}),o.find(".sui-ok").on("click",function(){if(n){var t=e(".picker-select li.selected"),i=t.text(),c=t.data("value");e("#select-picker-popup").closePopup(function(){l.onChange(c,i),a.destroy(),a=null,e("#select-picker-popup").remove()})}})}}(Zepto);